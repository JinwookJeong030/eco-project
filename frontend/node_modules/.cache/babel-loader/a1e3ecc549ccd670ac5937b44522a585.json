{"ast":null,"code":"import { createAction, handleActions } from \"redux-actions\";\nimport createRequestSaga, { createRequestActionTypes } from \"../lib/createRequestSaga\";\nimport * as postsAPI from '../lib/api/post';\nimport { takeLatest } from 'redux-saga/effects';\nconst INITIALIZE = 'write/INITIALIZE'; // 모든 내용 초기화\n\nconst CHANGE_FIELD = 'write/CHANGE_FIELD'; // 특정 key 값 바꾸기\n\nconst [WRITE_POST, WRITE_POST_SUCCESS, WRITE_POST_FAILURE] = createRequestActionTypes('write/WRITE_POST'); // 포스트 작성\n\nconst [EDIT_POST, EDIT_POST_SUCCESS, EDIT_POST_FAILURE] = createRequestActionTypes('write/EDIT_POST'); // 포스트 작성\n\nconst [DELETE_POST, DELETE_POST_SUCCESS, DELETE_POST_FAILURE] = createRequestActionTypes('write/DELETE_POST'); // 포스트 작성\n\nconst [CATEGORYS, CATEGORYS_SUCCESS, CATEGORYS_FAILURE] = createRequestActionTypes('write/CATEGORY'); //카테고리 조회\n\nconst [MISSIONS, MISSIONS_SUCCESS, MISSIONS_FAILURE] = createRequestActionTypes('write/MISSION'); //카테고리 조회\n\nexport const initialize = createAction(INITIALIZE);\nexport const changeField = createAction(CHANGE_FIELD, _ref => {\n  let {\n    key,\n    value\n  } = _ref;\n  return {\n    key,\n    value\n  };\n});\nexport const writePost = createAction(WRITE_POST, _ref2 => {\n  let {\n    post_title,\n    post_contents,\n    post_category,\n    post_mission\n  } = _ref2;\n  return {\n    post_title,\n    post_contents,\n    post_category,\n    post_mission\n  };\n});\nexport const editPost = createAction(EDIT_POST, _ref3 => {\n  let {\n    post_title,\n    post_contents,\n    post_category,\n    post_mission\n  } = _ref3;\n  return {\n    post_title,\n    post_contents,\n    post_category,\n    post_mission\n  };\n});\nexport const deletePost = createAction(DELETE_POST, _ref4 => {\n  let {} = _ref4;\n  return {};\n});\nexport const categorys = createAction(CATEGORYS);\nexport const missions = createAction(MISSIONS); // 사가 생성\n\nconst writePostSaga = createRequestSaga(WRITE_POST, postsAPI.writePost);\nconst categorysSaga = createRequestSaga(CATEGORYS, postsAPI.categorysPost);\nconst missionsSaga = createRequestSaga(MISSIONS, postsAPI.missionsPost);\nexport function* writeSaga() {\n  yield takeLatest(CATEGORYS, categorysSaga);\n  yield takeLatest(MISSIONS, missionsSaga);\n  yield takeLatest(WRITE_POST, writePostSaga);\n}\nconst initialState = {\n  post_title: '',\n  post_contents: '',\n  post_category: 1,\n  post_mission: 0,\n  categorys: [],\n  categorysError: null,\n  missions: [],\n  missionError: null,\n  post: null,\n  postError: null\n};\nconst write = handleActions({\n  [INITIALIZE]: state => initialState,\n  // initialState를 넣으면 초기 상태로 바뀜\n  [CHANGE_FIELD]: (state, _ref5) => {\n    let {\n      payload: {\n        key,\n        value\n      }\n    } = _ref5;\n    return { ...state,\n      [key]: value // 특정 key 값을 업데이트\n\n    };\n  },\n  [WRITE_POST]: state => ({ ...state,\n    // post와 postError를 초기화\n    categorys: [],\n    categorysError: null,\n    missions: [],\n    missionsError: null,\n    post: null,\n    postError: null\n  }),\n  // 포스트 작성 성공\n  [WRITE_POST_SUCCESS]: (state, _ref6) => {\n    let {\n      payload: post\n    } = _ref6;\n    return { ...state,\n      post\n    };\n  },\n  // 포스트 작성 실패\n  [WRITE_POST_FAILURE]: (state, _ref7) => {\n    let {\n      payload: postError\n    } = _ref7;\n    return { ...state,\n      postError\n    };\n  },\n  [CATEGORYS]: state => ({ ...state,\n    // post와 postError를 초기화\n    categorys: [],\n    categorysError: null,\n    missions: [],\n    missionsError: null,\n    post: null,\n    postError: null\n  }),\n  // 포스트 작성 성공\n  [CATEGORYS_SUCCESS]: (state, _ref8) => {\n    let {\n      payload: categorys\n    } = _ref8;\n    return { ...state,\n      categorys: categorys.result.categorys\n    };\n  },\n  // 포스트 작성 실패\n  [CATEGORYS_FAILURE]: (state, _ref9) => {\n    let {\n      payload: categorysError\n    } = _ref9;\n    return { ...state,\n      categorysError\n    };\n  },\n  [MISSIONS]: state => ({ ...state,\n    // post와 postError를 초기화\n    categorys: [],\n    categorysError: null,\n    missions: [],\n    missionsError: null,\n    post: null,\n    postError: null\n  }),\n  // 포스트 작성 성공\n  [MISSIONS_SUCCESS]: (state, _ref10) => {\n    let {\n      payload: missions\n    } = _ref10;\n    return { ...state,\n      categorys: missions.result.missions\n    };\n  },\n  // 포스트 작성 실패\n  [MISSIONS_FAILURE]: (state, _ref11) => {\n    let {\n      payload: missionsError\n    } = _ref11;\n    return { ...state,\n      missionsError\n    };\n  }\n}, initialState);\nexport default write;","map":{"version":3,"names":["createAction","handleActions","createRequestSaga","createRequestActionTypes","postsAPI","takeLatest","INITIALIZE","CHANGE_FIELD","WRITE_POST","WRITE_POST_SUCCESS","WRITE_POST_FAILURE","EDIT_POST","EDIT_POST_SUCCESS","EDIT_POST_FAILURE","DELETE_POST","DELETE_POST_SUCCESS","DELETE_POST_FAILURE","CATEGORYS","CATEGORYS_SUCCESS","CATEGORYS_FAILURE","MISSIONS","MISSIONS_SUCCESS","MISSIONS_FAILURE","initialize","changeField","key","value","writePost","post_title","post_contents","post_category","post_mission","editPost","deletePost","categorys","missions","writePostSaga","categorysSaga","categorysPost","missionsSaga","missionsPost","writeSaga","initialState","categorysError","missionError","post","postError","write","state","payload","missionsError","result"],"sources":["D:/GitHub/Capstone/eco-project/frontend/src/modules/write.js"],"sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\r\nimport createRequestSaga, { createRequestActionTypes } from \"../lib/createRequestSaga\";\r\nimport * as postsAPI from '../lib/api/post';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst INITIALIZE = 'write/INITIALIZE'; // 모든 내용 초기화\r\nconst CHANGE_FIELD = 'write/CHANGE_FIELD'; // 특정 key 값 바꾸기\r\nconst [\r\n  WRITE_POST,\r\n  WRITE_POST_SUCCESS,\r\n  WRITE_POST_FAILURE,\r\n] = createRequestActionTypes('write/WRITE_POST'); // 포스트 작성\r\nconst [\r\n  EDIT_POST,\r\n  EDIT_POST_SUCCESS,\r\n  EDIT_POST_FAILURE,\r\n] = createRequestActionTypes('write/EDIT_POST'); // 포스트 작성\r\nconst [\r\n  DELETE_POST,\r\n  DELETE_POST_SUCCESS,\r\n  DELETE_POST_FAILURE,\r\n] = createRequestActionTypes('write/DELETE_POST'); // 포스트 작성\r\n\r\nconst [\r\n  CATEGORYS, \r\n  CATEGORYS_SUCCESS, \r\n  CATEGORYS_FAILURE\r\n] = createRequestActionTypes('write/CATEGORY');//카테고리 조회\r\nconst [\r\n  MISSIONS, \r\n  MISSIONS_SUCCESS, \r\n  MISSIONS_FAILURE\r\n] = createRequestActionTypes('write/MISSION');//카테고리 조회\r\n\r\nexport const initialize = createAction(INITIALIZE);\r\nexport const changeField = createAction(CHANGE_FIELD, ({ key, value }) => ({\r\n  key,\r\n  value,\r\n}));\r\nexport const writePost = createAction(WRITE_POST, ({ post_title, post_contents,post_category, post_mission }) => ({\r\n  post_title,\r\n  post_contents,\r\n  post_category,\r\n  post_mission\r\n}));\r\nexport const editPost = createAction(EDIT_POST, ({ post_title, post_contents,post_category, post_mission }) => ({\r\n  post_title,\r\n  post_contents,\r\n  post_category,\r\n  post_mission\r\n}));\r\nexport const deletePost = createAction(DELETE_POST, ({ }) => ({}));\r\n\r\nexport const categorys = createAction(CATEGORYS);\r\nexport const missions = createAction(MISSIONS);\r\n// 사가 생성\r\nconst writePostSaga = createRequestSaga(WRITE_POST, postsAPI.writePost);\r\nconst categorysSaga = createRequestSaga(CATEGORYS, postsAPI.categorysPost);\r\nconst missionsSaga = createRequestSaga(MISSIONS, postsAPI.missionsPost);\r\nexport function* writeSaga() {\r\n  yield takeLatest(CATEGORYS, categorysSaga);\r\n  yield takeLatest(MISSIONS, missionsSaga);\r\n  yield takeLatest(WRITE_POST, writePostSaga);\r\n}\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n  post_title: '',\r\n  post_contents: '',\r\n  post_category: 1,\r\n  post_mission:0,\r\n  categorys:[],\r\n  categorysError:null,\r\n  missions:[],\r\n  missionError:null,\r\n  post: null,\r\n  postError: null,\r\n};\r\n\r\nconst write = handleActions(\r\n  {\r\n    [INITIALIZE]: state => initialState, // initialState를 넣으면 초기 상태로 바뀜\r\n    [CHANGE_FIELD]: (state, { payload: { key, value } }) => ({\r\n      ...state,\r\n      [key]: value, // 특정 key 값을 업데이트\r\n    }),\r\n    [WRITE_POST]: state => ({\r\n      ...state,\r\n      // post와 postError를 초기화\r\n      categorys:[],\r\n      categorysError:null,\r\n      missions:[],\r\n      missionsError:null,\r\n      post: null,\r\n      postError: null,\r\n    }),\r\n    // 포스트 작성 성공\r\n    [WRITE_POST_SUCCESS]: (state, { payload: post }) => ({\r\n      ...state,\r\n      post,\r\n    }),\r\n    // 포스트 작성 실패\r\n    [WRITE_POST_FAILURE]: (state, { payload: postError }) => ({\r\n      ...state,\r\n      postError,\r\n    }),\r\n    [CATEGORYS]: state => ({\r\n      ...state,\r\n      // post와 postError를 초기화\r\n      categorys:[],\r\n      categorysError:null,\r\n      missions:[],\r\n      missionsError:null,\r\n      post: null,\r\n      postError: null,\r\n    }),\r\n    // 포스트 작성 성공\r\n    [CATEGORYS_SUCCESS]: (state, { payload: categorys }) => ({\r\n      ...state,\r\n      categorys:categorys.result.categorys,\r\n    }),\r\n    // 포스트 작성 실패\r\n    [CATEGORYS_FAILURE]: (state, { payload: categorysError }) => ({\r\n      ...state,\r\n      categorysError,\r\n    }),\r\n    [MISSIONS]: state => ({\r\n      ...state,\r\n      // post와 postError를 초기화\r\n      categorys:[],\r\n      categorysError:null,\r\n      missions:[],\r\n      missionsError:null,\r\n      post: null,\r\n      postError: null,\r\n    }),\r\n    // 포스트 작성 성공\r\n    [MISSIONS_SUCCESS]: (state, { payload: missions }) => ({\r\n      ...state,\r\n      categorys:missions.result.missions,\r\n    }),\r\n    // 포스트 작성 실패\r\n    [MISSIONS_FAILURE]: (state, { payload: missionsError }) => ({\r\n      ...state,\r\n      missionsError,\r\n    }),\r\n\r\n\r\n  },\r\n  initialState,\r\n)\r\n\r\nexport default write;"],"mappings":"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"},"metadata":{},"sourceType":"module"}